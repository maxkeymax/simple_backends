# simple_backends
Состояние - подразумевает под собой данные, с которыми программа работает в определенный момент времени.
Данные нужно где-то хранить и один из самых простых способов - хранение в оперативной памяти, например, в списках, словарях и т. п. структурах, подходящих под конкретные задачи.
Во втором шаге задания, данные будут храниться в списке, элементами которого будут словари. Один словарь - одна задача со своими параметрами.

Основные минусы хранения состояния в оперативной памяти.
1) Данные теряются при сбое, перезапуске программы или функции.
2) Объем таких данных ограничен объемом доступной оперативной памяти.
3) Проблемы с параллельным доступом (в веб-приложениях и многопоточных программах). Если несколько пользователей (или потоков) одновременно пытаются изменить одни и те же данные в памяти, могут возникнуть гонки данных (race conditions).
4) Нет истории изменений. В оперативной памяти хранится только текущее состояние. Если нужно откатить изменения или посмотреть, как данные менялись со временем — это невозможно.

Поэтому хранение состояния в оперативной памяти подходит:
- Для временных данных (кеш, сессии).
- В однопользовательских приложениях (например, консольная утилита).
- Если данные не критичны и их не жалко потерять.

Переписав код под хранение задач в json-файле получаем следующие плюсы:
1) Данные не теряются при перезапуске приложения.
2) Объем данных не зависит теперь от объемов опреативной памяти.
3) Данные можно легко прочитать как в самом файле, так и с помощью других средств, так как формат платформонезависим.
Изменился способ хранения информации с временного (ОП) на постоянный (диск). Само состояние (данные о задачах) по прежнему существует и управляется программой.

На данный момент еще остались варианты хранения данных, вот некоторые из них.
- Реляционные базы данных: MySQL, PostgreSQL, Microsoft SQL Server и т. д. Преимущества: поддержка транзакций, нормализация данных, сложные запросы.
Недостатки: такая база данных может быть медленной для больших объемов данных.
- Облачные сервисы.
Преимущества: высокая доступность, масштабируемость, безопасность.
Недостатки: могут быть дорогими, в зависимости от поставщика.

Переписав код под хранение задач на удаленном сервере https://jsonbin.io/ получаем stateless приложение.
Однако если рассматривать жанное приложение как многопользовательское, то получаем вероятность возникновения состояни гонки (race condition).
Вероятны некоторые события как:
- Потеря обновлений. Когда два пользователя загружают себе текущий список задач из одной задачи, и сохраняют по одной новой задаче, то при сохранении вторым пользователем перезапишется новая задача первого пользователя. Нужна атомарность операций.
- Гонка при удалении/обновлении задачи. Когда два пользователя получают список задач, один пользователь удаляет одну из задач, а второй пользователь вносит в нее изменения и при сохранении получает ошибку. Можно сделать дополнительные проверки существования задачи перед удаление или изменением.
Часть проблем болжен решить переход на хранение даннных в базе данных. Часть других - через использования менеджеров сообытий, таких как Redis.